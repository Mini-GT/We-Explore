import{w as p}from"./with-props-BUHJMvrq.js";import{r as n,l as e,p as m}from"./chunk-K6CSEXPM-CQSxDGJ2.js";async function j(){return await(await fetch("https://restcountries.com/v3.1/all")).json()}const v=p(function({loaderData:i}){const[r,d]=n.useState(""),[t,u]=n.useState(""),[a,h]=n.useState(""),l=i.filter(o=>{const s=!t||o.region.toLowerCase()===t.toLowerCase();return(!r||o.name.common.toLowerCase().includes(r.toLowerCase()))&&s}).sort((o,s)=>a==="highest"?s.population-o.population:a==="lowest"?o.population-s.population:0);return e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Countries"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("input",{type:"text",placeholder:"Search by name...",value:r,onChange:o=>d(o.target.value),className:"border border-gray-300 rounded px-3 py-2 w-full sm:w-1/2 focus:outline-none focus:border-indigo-500"}),e.jsxs("select",{value:t,onChange:o=>u(o.target.value),className:"border border-gray-300 rounded px-3 py-2 w-full sm:w-1/2 focus:outline-none focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"All Regions"}),e.jsx("option",{value:"africa",children:"Africa"}),e.jsx("option",{value:"americas",children:"Americas"}),e.jsx("option",{value:"asia",children:"Asia"}),e.jsx("option",{value:"europe",children:"Europe"}),e.jsx("option",{value:"oceania",children:"Oceania"})]}),e.jsxs("select",{value:a,onChange:o=>h(o.target.value),className:"border border-gray-300 rounded px-3 py-2 w-full sm:w-1/2 focus:outline-none focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"Population"}),e.jsx("option",{value:"highest",children:"Highest"}),e.jsx("option",{value:"lowest",children:"Lowest"})]})]}),l.length===0?e.jsx("div",{children:" No countries match your filters. "}):e.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:l.map(o=>e.jsxs("li",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow hover:shadow-lg transition",children:[e.jsx(m,{to:`/countries/${o.name.common}`,className:"text-indigo-600 hover:underline text-lg font-semibold",children:o.name.common}),e.jsxs("div",{className:"text-gray-600 text-sm mt-1",children:["Region: ",o.region," ",e.jsx("br",{}),"Population: ",o.population.toLocaleString()]})]},o.cca3))})]})});export{j as clientLoader,v as default};
